<form [formGroup]="formGroup" class="form">
  <h2 mat-dialog-title>Formularz</h2>

  <mat-dialog-content>

    <div formArrayName="products">
      <div [formGroupName]="i" *ngFor="let control of formGroup.get('products').controls; index as i">

        <div class="flex">

          <mat-form-field appearance="fill">
            <mat-label>Nazwa</mat-label>
            <input matInput class="input" type="text" formControlName="name">
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Cena</mat-label>
            <input matInput class="input" type="number" formControlName="price">
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Opis</mat-label>
            <input matInput class="input" type="text" formControlName="description">
          </mat-form-field>

          <mat-form-field>
            <select matNativeControl formControlName="color">
              <option label="--Wybierz--"></option>
              <option value="1">Czerwony</option>
              <option value="2">Zielony</option>
              <option value="3">Niebieski</option>
            </select>
          </mat-form-field>

        </div>

      </div>
    </div>

  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button>Dodaj</button>
    <button #submitBtn mat-button type="submit" mat-dialog-close [disabled]="formGroup.invalid">Wy≈õlij</button>
  </mat-dialog-actions>

</form>
