<form [formGroup]="formGroup" class="form">
  <h2 mat-dialog-title>Formularz</h2>

  <mat-dialog-content>

    <div formArrayName="products">
      <div [formGroupName]="i" *ngFor="let control of formGroup.get('products').controls; index as i">

        <div class="flex flex-align-center">

          <mat-form-field class="form__field form__field--name">
            <mat-label>Nazwa</mat-label>
            <input matInput type="text" formControlName="name">
          </mat-form-field>

          <mat-form-field class="form__field form__field--price">
            <mat-label>Cena</mat-label>
            <input matInput type="number" formControlName="price">
          </mat-form-field>

          <mat-form-field class="form__field form__field--description">
            <mat-label>Opis</mat-label>
            <input matInput type="text" formControlName="description">
          </mat-form-field>

          <mat-form-field class="form__field form__field--color">
            <select matNativeControl formControlName="color">
              <option label="--Wybierz--"></option>
              <option value="1">Czerwony</option>
              <option value="2">Zielony</option>
              <option value="3">Niebieski</option>
            </select>
          </mat-form-field>

          <button mat-icon-button>
            <mat-icon (click)="removeProduct(i)">close</mat-icon>
          </button>

        </div>

      </div>
    </div>

  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-raised-button color="accent" (click)="addProduct()">Dodaj</button>
    <button #submitBtn mat-raised-button color="primary" type="submit" mat-dialog-close [disabled]="formGroup.invalid">Wy≈õlij</button>
  </mat-dialog-actions>

</form>
